\usepackage[most]{tcolorbox}
\usepackage{listings}

\usetikzlibrary{arrows,calc,decorations.pathmorphing}
\tcbuselibrary{theorems,skins}

\newtcolorbox[auto counter]{boxcontainer}[2][]{
	enhanced,
	frame hidden,
	attach boxed title to top center={yshift=-0.5\baselineskip},
	title=#2,
	fonttitle={\vollkorn\it\bfseries},
	coltitle=TextColor,
	coltext=TextColor,
	borderline={1pt}{0pt}{TextColor},
	opacityback=0,
	boxed title style={
			frame hidden,
			borderline={1pt}{0pt}{TextColor},
			colback=PageColor,
		},
	#1
}

\newtcbtheorem[number within=section]{theorembox}{Theorem}{
	enhanced,
	detach title,
	sharp corners,
	frame hidden,
	boxrule=0pt,
	before upper=\tcbtitle\setlength{\parskip}{5pt}\par,
	fonttitle={\sffamily\bfseries},
	coltitle=ThmTitleColor,
	colback=ThmColor,
	coltext=TextColor,
	borderline west={3pt}{0pt}{ThmTitleColor},
	parbox=false,
}
{th}

\newtcbtheorem[number within=section]{proofbox}{Proof}{
	enhanced,
	detach title,
	frame hidden,
	attach title to upper=\quad,
	fonttitle={\sffamily\bfseries},
	coltitle=ThmTitleColor,
	coltext=TextColor,
	borderline={1pt}{0pt}{ThmTitleColor},
	opacityback=0,
	parbox=false,
}
{pf}

\newtcbtheorem[number within=section]{definitionbox}{Definition}{
	enhanced,
	detach title,
	sharp corners,
	frame hidden,
	boxrule=0pt,
	before upper=\tcbtitle\setlength{\parskip}{5pt}\par,
	fonttitle={\sffamily\bfseries},
	coltitle=DefTitleColor,
	colback=DefColor,
	coltext=TextColor,
	borderline west={3pt}{0pt}{DefTitleColor},
	parbox=false,
}
{def}

\newtcbtheorem[number within=section]{remarkbox}{Remark}{
	enhanced,
	detach title,
	sharp corners,
	frame hidden,
	boxrule=0pt,
	before upper=\tcbtitle\setlength{\parskip}{5pt}\par,
	fonttitle={\sffamily\bfseries},
	description font={\bfseries},
	coltitle=RemTitleColor,
	colback=RemColor,
	coltext=TextColor,
	borderline west={3pt}{0pt}{RemTitleColor},
	parbox=false,
}
{rem}

\newtcbtheorem[number within=section]{claimbox}{Claim}{
	enhanced,
	detach title,
	sharp corners,
	frame hidden,
	boxrule=0pt,
	before upper=\tcbtitle\setlength{\parskip}{5pt}\par,
	fonttitle={\sffamily\bfseries},
	description font={\bfseries},
	coltitle=ClaimTitleColor,
	colback=ClaimColor,
	coltext=TextColor,
	borderline west={3pt}{0pt}{ClaimTitleColor},
	parbox=false,
}
{claim}

\newtcolorbox[auto counter]{question}[2][]{
	enhanced,
	frame hidden,
	attach boxed title to top left={yshift=-0.5\baselineskip,xshift=+1em},
	title={Question #2},
	coltitle=TextColor,
	coltext=TextColor,
	borderline={1pt}{0pt}{TextColor},
	opacityback=0,
	boxrule=0.5pt,
	arc=3mm,
	breakable,
	parbox=false,
	boxed title style={
			colframe=TextColor,
			colback=PageColor,
			borderline={1pt}{0pt}{TextColor},
			arc=2mm,
		},
	#1
}

\newtcolorbox[auto counter]{solution}[2][]{
	enhanced,
	frame hidden,
	attach boxed title to top right={yshift=-0.5\baselineskip,xshift=-1em},
	title={Solution #2},
	coltitle=TextColor,
	coltext=TextColor,
	borderline={1pt}{0pt}{TextColor},
	opacityback=0,
	boxrule=0.5pt,
	arc=3mm,
	breakable,
	parbox=false,
	boxed title style={
			colframe=TextColor,
			colback=PageColor,
			borderline={1pt}{0pt}{TextColor},
			arc=2mm,
		},
	#1
}

\newtcolorbox[auto counter]{warn}[2][]{
	enhanced,
	breakable,
	frame hidden,
	sharp corners,
	detach title,
	opacityback=0,
	title={\textbf{#2}},
	coltitle=WarnColor,
	coltext=TextColor,
	before upper={%
			\tcbtitle\par
		},
	underlay={%
			\coordinate (center) at ($(interior.north west) + (0pt,-12pt)$);
			\begin{scope}
				\draw[color=WarnColor,very thick] (center) circle (5pt);
				\node at (center){\color{WarnColor}\scriptsize\bf ?};
				\draw[line width=1.5pt,color=WarnColor]
				([shift={(0pt,-20pt)}]interior.north west)
				--([shift={(0pt,5pt)}]interior.south west);
			\end{scope}
		},
	#1
}

\newtcolorbox[auto counter]{info}[2][]{
	enhanced,
	breakable,
	frame hidden,
	sharp corners,
	detach title,
	opacityback=0,
	title={\textbf{#2}},
	coltitle=InfoColor,
	coltext=TextColor,
	before upper={%
			\tcbtitle\par
		},
	underlay={%
			\coordinate (center) at ($(interior.north west) + (0pt,-12pt)$);
			\begin{scope}
				\draw[color=InfoColor,very thick] (center) circle (5pt);
				\node at (center){\color{InfoColor}\scriptsize\bf i};
				\draw[line width=1.5pt,color=InfoColor]
				([shift={(0pt,-20pt)}]interior.north west)
				--([shift={(0pt,5pt)}]interior.south west);
			\end{scope}
		},
	#1
}
